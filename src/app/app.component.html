<!-- Game container -->
<div class="container" (konami)="konami()">
  <div class="canvas_wrapper">
    <app-canvas #canvas />

    <app-loading />

    <div class="control_wrapper">
      <button mat-mini-fab aria-label="Toggle movement control panel" title="Toggle movement control panel"
        (click)="toggleMovement()" class="btn animated" [class.hide]="!potentialMovement()"
        [class.show]="potentialMovement()" [class.active]="!movementHidden()" [class.disabled]="!featuresEnabled()"
        [disabled]="!featuresEnabled()">
        <mat-icon aria-hidden="false" fontIcon="gamepad"></mat-icon>
      </button>

      <a #save_button mat-mini-fab aria-label="Save creation to device" title="Save creation to device" class="btn save"
        [href]="imageDataString()" download="Build-A-Bettel.png">
        <mat-icon>download</mat-icon>
      </a>

      <app-zoom [canvas]="canvas" />
    </div>
  </div>

  <div class="interface_wrapper">
    <div class="system_buttons">
      <button mat-flat-button title="Reset artwork" (click)="reset()">Reset</button>

      <button mat-flat-button title="Generate random art prompt" (click)="generatePrompt()">Inspire me!</button>

      <button mat-mini-fab aria-label="Information" title="Information & Credits" id="credit-icon" (click)="showInfo()">
        <mat-icon fontSet="material-icons-outlined">info</mat-icon>
      </button>

      <button mat-flat-button title="Information & Credits" id="credit-text" (click)="showInfo()">
        Credits
      </button>
    </div>

    <div class="features">

      <app-prompt />

      <div class="component_wrapper">

        <app-parts />

        <div class="control_panel">

          <app-palette class="palette" [class.hidden]="itemsHidden()" />

          <app-outfits [class.hidden]="outfitsHidden()" />
          <app-items [class.hidden]="itemsHidden()" />
          <app-movement [class.hidden]="movementHidden()" />
        </div>
      </div>
    </div>
  </div>
</div>